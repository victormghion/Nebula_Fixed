<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Nebula</title>
  <meta name="description" content="Nebula — Assistente de IA para análises, automações e suporte técnico." />
  <link rel="stylesheet" href="/static/css/style.css" />
</head>
<body>
  <div class="nebula-app" id="app">
    <aside class="nebula-sidebar">
      <div class="nebula-logo-wrap">
        <svg id="nebula-logo" width="56" height="56" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
          <defs>
            <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#ffffff" stop-opacity="1"/>
              <stop offset="50%" stop-color="#2edda8" stop-opacity="1"/>
              <stop offset="100%" stop-color="#1aa67d" stop-opacity="1"/>
            </linearGradient>
            <linearGradient id="logoGlow" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" stop-color="#2edda8" stop-opacity="0.8"/>
              <stop offset="100%" stop-color="#1aa67d" stop-opacity="0.6"/>
            </linearGradient>
            <filter id="logoGlowFilter" x="-100%" y="-100%" width="300%" height="300%">
              <feGaussianBlur stdDeviation="4" result="coloredBlur"/>
              <feMerge>
                <feMergeNode in="coloredBlur"/>
                <feMergeNode in="SourceGraphic"/>
              </feMerge>
            </filter>
            <filter id="logoShadow">
              <feDropShadow dx="0" dy="2" stdDeviation="6" flood-color="#2edda8" flood-opacity="0.4"/>
            </filter>
          </defs>
          <g filter="url(#logoGlowFilter) url(#logoShadow)">
            <circle cx="50" cy="50" r="42" fill="url(#logoGradient)"/>
            <circle cx="50" cy="50" r="38" fill="url(#logoGradient)" opacity="0.95"/>
            <path d="M28 62 C42 85, 58 85, 72 62 C80 50, 80 40, 72 28 C58 10, 42 10, 28 28 C20 40, 20 50, 28 62 Z" fill="#021a1a" opacity="0.08"/>
            <text x="50%" y="58%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, system-ui, sans-serif" font-weight="800" font-size="42" fill="#021a1a" opacity="0.95">N</text>
          </g>
        </svg>
        <div class="nebula-title">
          <span class="nebula-title-main">Nebula</span>
          <span class="nebula-title-sub">Agent v6.0</span>
        </div>
      </div>

      <nav class="sidebar-nav">
        <button class="nav-btn active" data-view="chat">
          <svg class="nav-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
          </svg>
          <span>Chat</span>
        </button>
        <button class="nav-btn" data-view="history">
          <svg class="nav-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
          </svg>
          <span>Histórico</span>
        </button>
        <button class="nav-btn" data-view="scrumban">
          <svg class="nav-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          <span>Scrumban</span>
        </button>
        <button class="nav-btn" data-view="settings">
          <svg class="nav-icon" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"></circle>
            <path d="M12 1v6m0 6v6m9-9h-6m-6 0H3m15.364 6.364l-4.243-4.243m-4.242 0L5.636 17.364m12.728 0l-4.243-4.243m-4.242 0L5.636 6.636"></path>
          </svg>
          <span>Configurações</span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <div class="credits" id="credits">
          <svg class="credits-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"></polygon>
          </svg>
          <span>Créditos: <strong id="creditsValue">--</strong></span>
        </div>
        <button id="clearLocal" class="small-btn" aria-label="Limpar chat" title="Limpar histórico">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 6h18"></path>
            <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
            <line x1="10" y1="11" x2="10" y2="17"></line>
            <line x1="14" y1="11" x2="14" y2="17"></line>
          </svg>
        </button>
      </div>
    </aside>

    <main class="nebula-main">
      <header class="main-header">
        <div class="header-left">
          <div class="header-logo-title">
            <svg class="header-logo" width="32" height="32" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
              <defs>
                <linearGradient id="headerLogoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                  <stop offset="0%" stop-color="#ffffff" stop-opacity="1"/>
                  <stop offset="50%" stop-color="#2edda8" stop-opacity="1"/>
                  <stop offset="100%" stop-color="#1aa67d" stop-opacity="1"/>
                </linearGradient>
              </defs>
              <circle cx="50" cy="50" r="38" fill="url(#headerLogoGradient)"/>
              <text x="50%" y="58%" dominant-baseline="middle" text-anchor="middle" font-family="Inter, sans-serif" font-weight="800" font-size="32" fill="#021a1a" opacity="0.95">N</text>
            </svg>
            <div>
              <h1 class="hdr-title">Nebula Agent</h1>
              <p class="hdr-sub">Sua assistente de IA especializada em testes e automação BDD</p>
            </div>
          </div>
        </div>
        <div class="header-right">
          <button id="toggleHistory" class="small-btn" aria-label="Alternar histórico" title="Alternar histórico">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
        </div>
      </header>

      <section class="chat-container" id="chatContainer">
        <div class="messages" id="messages" role="log" aria-live="polite"></div>
        <div class="typing" id="typing" aria-hidden="true"><span class="dot"></span><span class="dot"></span><span class="dot"></span> Nebula está digitando…</div>
      </section>

      <form id="chatForm" class="chat-form" autocomplete="off">
        <div class="input-row">
          <input id="inputMsg" class="input" type="text" placeholder="Descreva o que você precisa..." />
          <button id="sendBtn" class="send-btn" type="submit" aria-label="Enviar mensagem">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
          </button>
        </div>
      </form>
    </main>
  </div>

  <template id="msg-template">
    <div class="message-group">
      <div class="avatar"></div>
      <div class="bubble"><div class="bubble-inner"></div></div>
    </div>
  </template>

  <script src="/static/js/script.js"></script>
</body>
</html>